<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Campo Aconchegante</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav ms-auto">
          <a class="nav-link" href="index.html">Campo Aconchegante</a>
          <a class="nav-link" href="energia.html">Energia do Campo</a>
          <a class="nav-link" href="agua.html">Água Vital</a>
          <a class="nav-link" href="producao.html">Produção Sustentável</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Áudio -->
  <audio id="somClick" preload="auto">
    <source src="mariah.mp3" type="audio/mpeg">
  </audio>

  <script>
    const som = document.getElementById("somClick");

    document.querySelectorAll(".nav-link").forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();

        const destino = link.getAttribute("href");

        som.pause();
        som.currentTime = 0;
        som.playbackRate = 2;

        // Tenta tocar o som
        const playPromise = som.play();

        if (playPromise !== undefined) {
          playPromise
            .then(() => {
              // Espera 400ms antes de redirecionar
              setTimeout(() => {
                window.location.href = destino;
              }, 400);
            })
            .catch(err => {
              console.warn("Erro ao tocar o som:", err);
              window.location.href = destino;
            });
        } else {
          window.location.href = destino;
        }
      });
    });
  </script>
</body>
</html>
